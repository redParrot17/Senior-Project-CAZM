<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Schedule Editor</title>

  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

  <script type=text/javascript>
    $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
  </script>

  <script type=text/javascript>
    var listOfCourses = {{ listOfCourses|tojson|safe}};
    var allCourses = {{ allCourses|tojson|safe}};
    var student_id = {{student_id}};
    var StudentCourses = {{ StudentCourses|tojson|safe}};
    var scheduleChangesAdded = [];
    var scheduleChangesRemoved = [];
    var studentStatus = {{ studentStatus }};
    var scheduleChanged = false;
  </script>

  <!-- font/icons -->
  <script src="https://kit.fontawesome.com/77ddb78ecd.js" crossorigin="anonymous"></script>

  <!-- css -->
  <link href="/static/css/advisorStudentSchedule.css" rel="stylesheet">
  <link href="/static/css/drag-drop.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/js-snackbar.css">
</head>
<body>

  <!-- Navigation Bar -->
  <nav class="navbar shaddow navbar-dark" id="nav" style="background-color: #960000 ;">
      <div class="container">
          <a class="navbar-brand">HBCAZM</a>
          <form class="form-inline" action="/logout" method="post">
              <button class="btn shaddow btn-outline-light my-2 my-sm-0" type="submit">Logout</button>
          </form>
      </div>
  </nav>



  <div class="mr-4 ml-4 row top-row" id="wrap">
    <div class="col-4 paddingTen" id="left">
      <!-- <div class="row-1"> -->
        <div class="row">

          <!--  Back button callback  -->
          {% if advisor_view %}
            <form action="/studentProfile/" method="post">
              <input type="hidden" name="student_id" value="{{student_id}}">
              <button type="submit" id="advisorBackBtn" class="btn btn-lg shaddow btn-secondary">Back</button>
            </form>
          {% else %}
            <button class="btn btn-lg shaddow btn-secondary" id="studentBackBtn"
                    onclick="window.location.href='/studentLanding'">Back</button>
          {% endif %}

        </div>
      <!-- </div>
      <div class="row-2"> -->
        <div id=req-list class="container outsideContainer mt-2 p-2 rounded overflow-auto Scrollstyle" >
          <div class="SSheaderText rounded p-2">
            <h4> Status Sheet </h4>
          </div>
          <div id="status-sheet-spinner" class="d-flex justify-content-center">
            <div class="spinner-border text-danger" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </div>
      <!-- </div> -->


    </div>

    <div class="col paddingTen" id="middle">
      <div class="row">
        <div class="col-11">
          <button class="btn approvebtn shaddow btn-lg btn-secondary itemInvisible" id="approveBtn" style="background-color: green;" type="button" onclick="approveBtn(event)">Approve Schedule</button>
        </div>
        <div class="ml-auto mt-1 mb-1" id="toggleBtn" onclick="toggleSideBar(event)">

        <i class="openbtn shaddow btn-secondary fas fa-arrow-circle-left rounded-circle"></i>

          <!-- <button class="openbtn rounded-circle" onclick="toggleSideBar(event)"><i class="fas fa-arrow-circle-left"></i></button> -->
        </div>
      </div>
      <div class="container outsideContainer mt-2 p-2 rounded overflow-auto Scrollstyle" id= "main-schedule">
        <div class="SSheaderText rounded p-2">
          <h4> Student Schedule </h4>
        </div>
        <div id="schedule-spinner" class="d-flex justify-content-center">
          <div class="spinner-border text-danger" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </div>
    </div>
  </div>

<!--
  <div class="form-group row">
      <div class="col search">
          <input type="search" id="search-text" class="rounded-left searchTerm" placeholder="Filter (name or student id)" aria-label="Search">
          <button type="button" id="search-btn" class="searchButton rounded-right"><i class="fa fa-search"></i></button>
      </div>
  </div>

  <form id="search">
  <input type='text' id='searchText' />
  <input type='submit' value='Search' />
</form> -->


<div id="mySidebar" class="sidebar sidebar-container">
  <div class="row mb-1 mt-1">
    <div class="search m-2">
      <input type="text" id="search-bar" class="rounded-left searchTerm" placeholder="Search">
      <button  id="search-button" class="searchButton rounded-right" onclick="filterCourses();">
        <i class="fa fa-search"></i>
     </button>
   </div>
  </div>
  <div class="rounded sidebar-container-inside m-2 mb-3">
      <div class="container filterContainer rounded">
        <div class="headerText rounded-top">
          Filters
        </div>
        <label class="Checkcontainer">Pre-requisites Met
          <input type="checkbox">
          <span class="checkmark"></span>
        </label>

        <label class="Checkcontainer">Major Requirement
          <input type="checkbox" id="major-checkbox" onchange="filterCourses()">
          <span class="checkmark"></span>
        </label>

        <label class="Checkcontainer">Hide Duplicate Courses
          <input type="checkbox" id="duplicates-checkbox" onchange="filterCourses()">
          <span class="checkmark"></span>
        </label>
      </div>
      <div class="container searchContainer p-0 rounded overflow-hidden" >
        <div class="row rowDropDown">
          <div class="form-group col p-0">
            <select class="form-control form-border-semester dropdown topLeftRounded topRightRounded" id="semester-dropdown" onchange="filterCourses()">
              <option value=-1>Semester:</option>
              <option value="Fall">Fall</option>
              <option value="Spring">Spring</option>
              <option value="Winter Online">Winter Online</option>
              <option value="January">January</option>
              <option value="May">May</option>
              <option value="Summer">Summer</option>
            </select>
          </div>
        </div>
        <div class="container course-container rounded-bottom overflow-auto Scrollstyle" id="course-container">
          {% for course in allCourses %}
            <div id="{{course.courseCode}}" courseCode = "{{course.courseCode}}" year="{{course.year}}" semester="{{course.semester}}" class="drag_item" draggable="true" ondragstart="set_valid_drag_locations(event);drag(event);" ondragend="revert_drag_locations(event);dragEnd(event);" data-toggle="tooltip" title="{{course.name}}">
              <i class="col-1 pr-0 pl-0 ml-2 fas fa-arrows-alt"></i>
              <span class="col pr-0 pl-0 drag_item_text text-center">{{course.courseCode}}</span>
              <i class="col-1 pr-0 pl-0 fas fa-trash-alt mr-2 itemInvisible trashRed" onclick="removeDragItem(event)"></i>
            </div>
          {% endfor%}
        </div>
        </div>
  </div>

</div>


<!-- Javascript -->
<script src="/static/js/js-snackbar.js"></script>
{% if advisor_view %}
  <script src="/static/js/advisorApproveSchedule.js"></script>
  <script src="/static/js/AdviseeScheduleLoad.js" charset="utf-8"></script>
  <script>createEventListeners(JSON.parse('{{student_id}}'));</script>
{% else %}
  <script src="/static/js/studentApproveSchedule.js"></script>
  <script src="/static/js/StudentScheduleLoad.js" charset="utf-8"></script>
{% endif %}
<script src="/static/js/status-sheet.js" charset="utf-8"></script>
<script src="/static/js/prereqs.js" charset="utf-8"></script>
<script src="/static/js/createStudentSchedule.js" charset="utf-8"></script>
<script src="/static/js/drag-drop.js" charset="utf-8"></script>
<script src="/static/js/side-bar.js" charset="utf-8"></script>
<script src="/static/js/filtercourses.js" charset="utf-8"></script>


</body>
</html>
